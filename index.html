<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Strava Analyzer Pro | Fiets Rit Analyse</title>
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect width='100' height='100' fill='%232563eb' rx='20'/><text x='50' y='60' font-family='Arial' font-size='40' text-anchor='middle' fill='white'>🚴</text></svg>">
    
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-annotation@2.2.1/dist/chartjs-plugin-annotation.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
</head>
<body>
    <div class="logo-container">
        <div class="logo">
            <span class="logo-icon">🚴</span>
            <div class="logo-text">
                <h1>Strava Analyzer Pro</h1>
                <p>Analyseer je fietsritten zoals een professional</p>
            </div>
        </div>
    </div>

    <div class="container">
        <div class="main-content">
            <div class="card upload-card">
                <div class="upload-area" id="dropZone">
                    <div class="upload-icon">📁</div>
                    <div class="upload-text">
                        <h3>Upload je rit</h3>
                        <p>Sleep een TCX of GPX bestand hierheen of klik om te selecteren</p>
                    </div>
                    <div class="file-input-wrapper">
                        <input type="file" id="fileInput" accept=".tcx,.gpx" />
                        <label for="fileInput" class="file-input-label">
                            📂 Bestand kiezen
                        </label>
                    </div>
                </div>
                <button id="analyzeBtn" class="btn btn-primary" style="width: 100%;">
                    🔍 Rit analyseren
                </button>
            </div>

            <div class="card">
                <div id="summaryContainer" class="hidden">
                    <div class="summary-grid">
                        <div class="summary-item">
                            <h3>Afstand</h3>
                            <div class="value" id="distanceValue">-</div>
                        </div>
                        <div class="summary-item">
                            <h3>Bewegingstijd</h3>
                            <div class="value" id="durationValue">-</div>
                        </div>
                        <div class="summary-item">
                            <h3>Snelheid</h3>
                            <div class="value" id="speedValue">-</div>
                        </div>
                        <div class="summary-item">
                            <h3>Hoogtemeters</h3>
                            <div class="value" id="elevationValue">-</div>
                        </div>
                    </div>
                    <div id="saveButtonContainer"></div>
                </div>
                <div id="debug" class="hidden">
                    <h4>Debug Info</h4>
                    <pre id="debugText"></pre>
                </div>
            </div>
        </div>

        <!-- Rit Vergelijking Section -->
        <!-- Rit Vergelijking Section -->
<div id="comparisonContainer" class="comparison-container hidden">
    <div class="comparison-header">
        <h2>🔄 Rit Vergelijking</h2>
        <p class="comparison-subtitle">Vergelijk meerdere ritten om je vooruitgang te zien</p>
    </div>

    <div class="rit-selection-cards" id="comparisonSelectsContainer">
        <!-- Wordt dynamisch ingevuld -->
    </div>

    <div class="comparison-controls">
        <button id="addComparisonBtn" class="control-btn control-btn-success">
            <span>➕</span> Rit Toevoegen
        </button>
        <button id="removeComparisonBtn" class="control-btn control-btn-danger">
            <span>➖</span> Rit Verwijderen
        </button>
        <button id="compareBtn" class="control-btn control-btn-primary">
            <span>🔄</span> Ritten Vergelijken
        </button>
        <button id="clearComparisonBtn" class="control-btn control-btn-secondary">
            <span>🗑️</span> Alles Wissen
        </button>
    </div>

    <div id="comparisonResults" class="comparison-results hidden">
        <!-- Hier komen de vergelijkingsresultaten -->
    </div>
</div>

        <div class="tabs">
            <div class="tab-header">
                <button class="tab-button active" data-tab="charts">📊 Grafieken</button>
                <button class="tab-button" data-tab="stats">📈 Statistieken</button>
                <button class="tab-button" data-tab="rankings">🏆 Rangschikking</button>
                <button class="tab-button" data-tab="saved">💾 Opgeslagen</button>
            </div>

            <div id="charts-tab" class="tab-content active">
                <div class="chart-container">
                    <h3>📈 Hoogteprofiel</h3>
                    <div class="chart-wrapper">
                        <canvas id="elevationChart"></canvas>
                    </div>
                </div>
                <div class="chart-container">
                    <h3>🚀 Snelheidsanalyse</h3>
                    <div class="chart-wrapper">
                        <canvas id="speedChart"></canvas>
                    </div>
                </div>
                <div class="table-container">
                    <div class="table-header">
                        <h3>⚡ Snelste Segmenten</h3>
                    </div>
                    <div class="table-scroll">
                        <table id="fastestTable">
                            <thead>
                                <tr>
                                    <th>Afstand</th>
                                    <th>Tijd</th>
                                    <th>Snelheid</th>
                                    <th>Pace</th>
                                    <th>Periode</th>
                                </tr>
                            </thead>
                            <tbody id="fastestTableBody"></tbody>
                        </table>
                    </div>
                </div>
            </div>

            <div id="stats-tab" class="tab-content">
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="number" id="totalDistance">0 km</div>
                        <div class="label">Totale Afstand</div>
                    </div>
                    <div class="stat-card">
                        <div class="number" id="totalElevation">0 m</div>
                        <div class="label">Totale Hoogte</div>
                    </div>
                    <div class="stat-card">
                        <div class="number" id="totalRides">0</div>
                        <div class="label">Aantal Ritten</div>
                    </div>
                    <div class="stat-card">
                        <div class="number" id="avgDistance">0 km</div>
                        <div class="label">Gemiddelde Afstand</div>
                    </div>
                </div>
                <div class="card">
                    <h3>🏆 Langste Ritten</h3>
                    <div id="longestRides" class="saved-activities">
                        <!-- Dynamisch ingevuld -->
                    </div>
                </div>
            </div>

            <div id="rankings-tab" class="tab-content">
                <div class="card">
                    <h3>🏆 Snelste Segmenten - Alle Ritten</h3>
                    <div class="rankings-controls">
                        <label for="rankingsDistance">Selecteer afstand:</label>
                        <select id="rankingsDistance">
                            <option value="5">5 km</option>
                            <option value="10">10 km</option>
                            <option value="15">15 km</option>
                            <option value="20">20 km</option>
                            <option value="25">25 km</option>
                            <option value="30">30 km</option>
                            <option value="35">35 km</option>
                            <option value="40">40 km</option>
                            <option value="45">45 km</option>
                            <option value="50">50 km</option>
                            <option value="55">55 km</option>
                            <option value="60">60 km</option>
                            <option value="65">65 km</option>
                            <option value="70">70 km</option>
                            <option value="75">75 km</option>
                            <option value="80">80 km</option>
                            <option value="85">85 km</option>
                            <option value="90">90 km</option>
                            <option value="95">95 km</option>
                            <option value="100">100 km</option>
                        </select>
                        <button id="refreshRankings" class="btn btn-primary">🔄 Vernieuw</button>
                    </div>
                    <div id="rankingsResults" class="rankings-results">
                        <!-- Hier komen de rangschikkingsresultaten -->
                    </div>
                </div>
            </div>

            <div id="saved-tab" class="tab-content">
                <div class="sort-controls">
                    <span>Sorteren op:</span>
                    <select id="sortField">
                        <option value="rideDate">Rit Datum</option>
                        <option value="createdAt">Toegevoegd op</option>
                        <option value="distance">Afstand</option>
                        <option value="elevation">Hoogtemeters</option>
                    </select>
                    <select id="sortOrder">
                        <option value="desc">Aflopend</option>
                        <option value="asc">Oplopend</option>
                    </select>
                </div>
                <div id="savedList" class="saved-activities">
                    <!-- Dynamisch ingevuld -->
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>